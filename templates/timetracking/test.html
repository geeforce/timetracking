{% extends "timetracking/mainsite.html" %}
{% load widget_tweaks %}
{% block content %}
<!--p>{{ values }}</p-->
<script type="text/javascript">
	$(document).ready(function() {
		
		$(".toggleDisplayInput").click(function(){
			var projectId = $(this).attr("projectId");
			toggleDisplayInput($(this),projectId,"changeProjectName");
		});

		function toggleDisplayInput(clickElement,thisId,sendDest){

			var thisText = clickElement.text();
			if(thisText != ""){
				clickElement.removeClass("boldHeadline").html('<input type="text" class="inputField" value="'+thisText+'">');
			}
			$(".inputField").on('keyup',function(){
				var thisText = $(this).val();
			}).on('keypress',function(event){
				if(event.which == 13){
					sendToggleInsert("changeProjectName",thisId,sendDest);
					$(this).parent(".toggleDisplayInput").html($(this).val()).addClass("boldHeadline");
				}
			}).on('focusout',function(){
				$(this).parent(".toggleDisplayInput").html(thisText).addClass("boldHeadline");
			}).focus();

		}

		function sendToggleInsert(dest,id,content){
			console.log("dest: "+dest);
			console.log("id: "+id);
			console.log("dest: "+content);
		}

	});
</script>
<style type="text/css">
	.boldHeadline{
		font-weight: bold;
	}
</style>

<div class="toggleDisplayInput boldHeadline pointThis" projectId="1">foobidoobieh</div>
<br>
<div class="toggleDisplayInput boldHeadline pointThis" projectId="2">abcd</div>
<!--br>
<div class="toggleDisplayInput boldHeadline">efg</div>
<br>
<div class="toggleDisplayInput boldHeadline">hij</div-->


{% endblock %}